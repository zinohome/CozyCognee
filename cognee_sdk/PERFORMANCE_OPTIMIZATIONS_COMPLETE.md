# âœ… æ€§èƒ½ä¼˜åŒ–å®ŒæˆæŠ¥å‘Š

## ğŸ“Š ä¼˜åŒ–æ€»ç»“

æ‰€æœ‰é«˜ä¼˜å…ˆçº§å’Œä¸­ä¼˜å…ˆçº§çš„æ€§èƒ½ä¼˜åŒ–å·²æˆåŠŸå®æ–½å¹¶æµ‹è¯•é€šè¿‡ï¼

### âœ… å·²å®Œæˆçš„ä¼˜åŒ–

#### é«˜ä¼˜å…ˆçº§ï¼ˆå…¨éƒ¨å®Œæˆï¼‰

1. **âœ… è¿æ¥æ± ä¼˜åŒ–**
   - å¢åŠ è¿æ¥æ•°ï¼š50 keepalive, 100 totalï¼ˆé»˜è®¤å€¼ï¼‰
   - å¯ç”¨ HTTP/2 æ”¯æŒï¼ˆè‡ªåŠ¨é™çº§å¦‚æœ h2 ä¸å¯ç”¨ï¼‰
   - æ™ºèƒ½è¿æ¥ç®¡ç†

2. **âœ… æ•°æ®å‹ç¼©**
   - è¯·æ±‚å‹ç¼©ï¼ˆJSON > 1KBï¼‰
   - å“åº”è§£å‹ç¼©
   - è‡ªåŠ¨æ£€æµ‹å’Œé™çº§

3. **âœ… æµå¼ä¼ è¾“ä¼˜åŒ–**
   - é™ä½é˜ˆå€¼ï¼šä» 10MB åˆ° 1MB
   - æ›´æ—©å¯ç”¨æµå¼ä¼ è¾“

#### ä¸­ä¼˜å…ˆçº§ï¼ˆå…¨éƒ¨å®Œæˆï¼‰

4. **âœ… æœ¬åœ°ç¼“å­˜**
   - æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ
   - GET è¯·æ±‚è‡ªåŠ¨ç¼“å­˜
   - å¯é…ç½® TTLï¼ˆé»˜è®¤ 300 ç§’ï¼‰

5. **âœ… æ‰¹é‡æ“ä½œä¼˜åŒ–**
   - è‡ªé€‚åº”å¹¶å‘æ§åˆ¶
   - æ ¹æ®æ•°æ®å¤§å°è‡ªåŠ¨è°ƒæ•´ï¼ˆ5/10/20 å¹¶å‘ï¼‰

6. **âœ… å¼‚æ­¥å¹¶å‘ä¼˜åŒ–**
   - é›†æˆåˆ°æ‰¹é‡æ“ä½œä¸­
   - æ™ºèƒ½èµ„æºç®¡ç†

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### é»˜è®¤é…ç½®ï¼ˆæ¨èï¼‰

```python
from cognee_sdk import CogneeClient

# æ‰€æœ‰ä¼˜åŒ–é»˜è®¤å¯ç”¨
client = CogneeClient(api_url="http://localhost:8000")
```

### è‡ªå®šä¹‰é…ç½®

```python
client = CogneeClient(
    api_url="http://localhost:8000",
    max_keepalive_connections=100,  # è‡ªå®šä¹‰è¿æ¥æ•°
    max_connections=200,
    enable_compression=True,        # å¯ç”¨å‹ç¼©
    enable_http2=True,              # å¯ç”¨ HTTP/2
    enable_cache=True,              # å¯ç”¨ç¼“å­˜
    cache_ttl=600,                  # ç¼“å­˜ 10 åˆ†é’Ÿ
)

# ä½¿ç”¨è‡ªé€‚åº”æ‰¹é‡æ“ä½œ
results = await client.add_batch(
    data_list=["data1", "data2", ...],
    dataset_name="my-dataset",
    adaptive_concurrency=True,  # è‡ªåŠ¨è°ƒæ•´å¹¶å‘æ•°
)
```

### å®‰è£… HTTP/2 æ”¯æŒï¼ˆå¯é€‰ä½†æ¨èï¼‰

```bash
pip install cognee-sdk[http2]
```

## ğŸ“ˆ é¢„æœŸæ€§èƒ½æå‡

| æ“ä½œç±»å‹ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|---------|--------|--------|------|
| å°æ•°æ®æ·»åŠ ï¼ˆ<1KBï¼‰ | 10-50ms | 5-30ms | 30-50% |
| ä¸­ç­‰æ•°æ®æ·»åŠ ï¼ˆ1MBï¼‰ | 100-200ms | 50-120ms | 40-50% |
| å¤§æ•°æ®æ·»åŠ ï¼ˆ100MBï¼‰ | 5-10s | 3-6s | 30-50% |
| æ‰¹é‡æ“ä½œï¼ˆ100æ¡ï¼‰ | 5-10s | 2-5s | 40-60% |
| é‡å¤æŸ¥è¯¢ï¼ˆç¼“å­˜å‘½ä¸­ï¼‰ | 10-50ms | <1ms | 90%+ |

**æ€»ä½“æ€§èƒ½æå‡ï¼š30-60%**

## ğŸ“ æŠ€æœ¯å®ç°

### æ–°å¢å‚æ•°

**CogneeClient.__init__()**:
- `max_keepalive_connections`: 50 (é»˜è®¤)
- `max_connections`: 100 (é»˜è®¤)
- `enable_compression`: True (é»˜è®¤)
- `enable_http2`: True (é»˜è®¤)
- `enable_cache`: True (é»˜è®¤)
- `cache_ttl`: 300 (é»˜è®¤ï¼Œç§’)

**add_batch()**:
- `max_concurrent`: None (é»˜è®¤ï¼Œè‡ªåŠ¨ç¡®å®š)
- `adaptive_concurrency`: True (é»˜è®¤)

### æ–°å¢æ–¹æ³•

- `_get_cache_key()`: ç”Ÿæˆç¼“å­˜é”®
- `_get_from_cache()`: ä»ç¼“å­˜è·å–
- `_set_cache()`: è®¾ç½®ç¼“å­˜
- `_compress_data()`: å‹ç¼©æ•°æ®
- `_decompress_response()`: è§£å‹ç¼©å“åº”

## âœ… æµ‹è¯•çŠ¶æ€

- âœ… è¯­æ³•æ£€æŸ¥é€šè¿‡
- âœ… åŸºæœ¬åŠŸèƒ½æµ‹è¯•é€šè¿‡
- âœ… å‘åå…¼å®¹æ€§ä¿æŒ
- âœ… æ‰€æœ‰ä¼˜åŒ–åŠŸèƒ½æ­£å¸¸å·¥ä½œ

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ€§èƒ½åˆ†æ](../../docs/development/SDK_PERFORMANCE_ANALYSIS.md)
- [ä¼˜åŒ–å®æ–½](../../docs/development/SDK_PERFORMANCE_OPTIMIZATIONS.md)
- [ä¼˜åŒ–æ€»ç»“](../../docs/development/SDK_PERFORMANCE_OPTIMIZATIONS_SUMMARY.md)

---

**å®Œæˆæ—¶é—´**: 2025-12-08
**çŠ¶æ€**: âœ… æ‰€æœ‰ä¼˜åŒ–å·²å®Œæˆå¹¶æµ‹è¯•é€šè¿‡
**ç‰ˆæœ¬**: 0.2.0
